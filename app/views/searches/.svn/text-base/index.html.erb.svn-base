<script type="text/javascript">
	$(document).ready(function() {
		$(".trigger").click(function() {
			$(".panel").toggle("fast");
			$(this).toggleClass("active");
			return false;
		});
		
		// $(document).on("change", "#meal_category", function(){
		    // $.fn.changeMealDetails(this); //use class='meal_div' as parent div and id='meal_total_price' to change the price dynamically
		// }).change();
	}); 
</script>

<div id="workspace">
	<div class="subhead">
		Search Result for: <span style="color: #CC0000"><%= session[:user_input][:menu] %></span>
	</div>
	<div class="left">
		 <a href="#" class="AdvanceSearch open" style="margin-right:20px;">Show Advanced Search</a>
         <a href="#" class="closeAdvanceSearch" style="margin-right:20px;">Hide Advanced Search</a>
	         <div class="clearfix"></div>
				<%= render :partial => 'search_filters', :locals => { :sub_menus => @sub_menus, :categories => @categories, :advance_options => @advance_options} %>                       
	        <div class="clearfix"></div>
	           
    	        <% if @meals.present? || @kitchens.present? %>
    	        <div id="srch_result_wraper" class="meal_dynamic_generate">
                    <%= render :partial=>'meal_results_with_pagination', :locals => {:meals => @meals, :delivery_areas => @delivery_areas} %> 
                </div> 
                    <div class="clearfix"></div>
                    <div class="clearfix"></div>
                    <!-- < %= paginate @meals if @meals.present? % > -->
                <% else %>
                <div id="srch_result_wraper">
                    <div class='page' style="margin-top: 10px; color: #f00; text-align: center;" >
                        No results found
                    </div>
                </div>
                <% end %>
			<div class="clear"></div>
    </div><!-- END LEFT COL OF MAIN CONTENT-->
    
	<div class="right">
	<!-- User input criteria partial call-->
		<%= render :partial => 'layouts/user_criteria' %>
		<%= render :partial => 'layouts/user_criteria_pop_up' %>
	<!-- End User input criteria partial call-->
	
	<!-- Start Shopping cart-->
		<div id="baskets_dynamic_div">
			<%= render :partial => 'baskets/basket_contents' %>
		</div>	
	<!-- End Shopping cart-->	
	<!--Start Kitchens thumb nails -->
		<%= render :partial => 'kitchen_results', :locals => { :kitchens => @kitchens } %>
		<div class="clearfix"></div>
		<%= paginate @kitchens if @kitchens.present? %>
	<!--End Kitchens thumb nails --> 	
		<div class="clear"></div>
	 </div><!-- END RIGHT SIDE BAR COL OF MAIN CONTENT-->
     <div class="clear"></div>
</div><!-- end workspace -->
<div id="disclaimer">
	The meals images are for representative purpose only. The actual meals may appear different.
</div>
<div class="clear"></div>	

<!-- script for Slide out Search panel for food details -->
<script type="text/javascript">
	$(document).ready(function() {

		// Expand Panel
		$(".open").click(function() {
			$("div#SearchPanel").slideDown("slow");
			$(".AdvanceSearch").hide();
			$(".closeAdvanceSearch").show();

		});

		// Collapse Panel
		$(".closeAdvanceSearch").click(function() {
			$("div#SearchPanel").slideUp("slow");
			$(".AdvanceSearch").show();
			$(".closeAdvanceSearch").hide();
		});
	}); 
</script>

<script type="text/javascript">
	// <!--Script for Search Carousal for Menu-- > 
	$(window).load(function() {
		$("#flexiselDemo1").flexisel();
		$("#flexiselDemo2").flexisel({
			enableResponsiveBreakpoints : true,
			responsiveBreakpoints : {
				portrait : {
					changePoint : 480,
					visibleItems : 1
				},
				landscape : {
					changePoint : 640,
					visibleItems : 2
				},
				tablet : {
					changePoint : 768,
					visibleItems : 3
				}
			}
		});

		$("#flexiselDemo3").flexisel({
			visibleItems : 5,
			animationSpeed : 1000,
			autoPlay : true,
			autoPlaySpeed : 3000,
			pauseOnHover : true,
			enableResponsiveBreakpoints : true,
			responsiveBreakpoints : {
				portrait : {
					changePoint : 480,
					visibleItems : 1
				},
				landscape : {
					changePoint : 640,
					visibleItems : 2
				},
				tablet : {
					changePoint : 768,
					visibleItems : 3
				}
			}
		});

	});
</script>
<div id="backgroundPopup">
</div>	